<div class="bg-lightest-gray-color p-4 m-3 graph-description">
    <div
        class="py-3 w-full border-0 outline-0 flex justify-content-between align-items-center"
    >
        <h3 class="m-0 text-2xl font-semibold">
            {{ "ds-description-heading.graph-description" | translate }}
        </h3>
        <p-button
            styleClass="cancel-creation-button"
            [icon]="contentVisible ? 'pi pi-angle-up' : 'pi pi-angle-down'"
            (onClick)="toggleContentVisibility()"
            [ariaLabel]="
                contentVisible
                    ? ('ds-description-heading.aria-collapse-graph' | translate)
                    : ('ds-description-heading.aria-expand-graph' | translate)
            "
        >
        </p-button>
    </div>

    @if (contentVisible) {
        <section class="p-4 border bg-gray-color">
            <h4 class="mb-0 font-semibold">
                {{ "ds-description-heading.description" | translate }}
            </h4>
            <p [innerHTML]="contentText()?.description"></p>
            <div class="section-hr"></div>
            <h4 class="mb-0 font-semibold">
                {{ "ds-description-heading.scale" | translate }}
            </h4>
            <p [innerHTML]="contentText()?.scale"></p>
            <div class="section-hr"></div>
            <h4 class="mb-0 font-semibold">
                {{ "ds-description-heading.text-description" | translate }}
            </h4>
            <p [innerHTML]="contentText()?.textDescription"></p>
            <ul>
                @for (impactText of textDescriptionImpacts(); track $index) {
                    <li>
                        <span [innerHTML]="impactText.text"></span>
                        @if (chartType() !== "bar") {
                            <button
                                class="blue-link"
                                (click)="impactClick(impactText.impactName)"
                            >
                                <i class="pi pi-arrow-right inline"></i> &nbsp;&nbsp;
                                access to detail impact on
                                {{ impactText.impactNameVisible }} axis
                            </button>
                        }
                    </li>
                }
            </ul>
            <div class="section-hr"></div>
            <h4 class="mb-0 font-semibold">
                {{ "ds-description-heading.analysis" | translate }}
            </h4>
            <p [innerHTML]="contentText()?.analysis"></p>

            @if (ecoMindRecomendation()) {
                <div class="section-hr"></div>
                <h4 class="mb-0 font-semibold">Recommendations</h4>
                <p [innerHTML]="ecoMindRecomendation()"></p>
            }

            <div class="section-hr"></div>
            <h4 class="mb-0 font-semibold">
                {{ "ds-description-heading.to_go_further" | translate }}
            </h4>
            <p [innerHTML]="contentText()?.toGoFurther"></p>
        </section>
    }
</div>
