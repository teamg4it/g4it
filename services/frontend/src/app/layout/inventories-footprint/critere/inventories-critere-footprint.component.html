<div class="ml-auto block align-items-end lg:flex flex-row justify-content-end px-3">
    @if (criteriaCalculated().hasError && inventory()?.enableDataInconsistency) {
        <p-button
            (onClick)="showInconsitencyGraph = !showInconsitencyGraph"
            [rounded]="true"
            [label]="'inventories-footprint.data-consistency' | translate"
            [outlined]="!showInconsitencyGraph"
            severity="danger"
            class="ml-auto pr-3"
            [ariaLabel]="'inventories-footprint.data-consistency' | translate"
        />
    }
    <p-dropdown
        [options]="dimensions"
        [(ngModel)]="selectedDimension"
        [placeholder]="'inventories-footprint.select-dimension' | translate"
        styleClass="ml-auto"
    >
        <ng-template pTemplate="selectedItem">
            <div *ngIf="selectedDimension()">
                {{
                    "inventories-footprint.round-button." + selectedDimension()
                        | translate
                }}
            </div>
        </ng-template>
        <ng-template let-dimension pTemplate="item">
            <div>
                {{ "inventories-footprint.round-button." + dimension | translate }}
            </div>
        </ng-template>
    </p-dropdown>
</div>
@if (showInconsitencyGraph) {
    @if (options().series && xAxisInput.length) {
        <app-stack-bar-chart [xAxisInput]="xAxisInput" [statusCountMap]="criteriaMap" />
    } @else {
        <div class="no-data-bar">
            <p class="text-round-empty">{{ "common.no-data" | translate }}</p>
        </div>
    }
} @else {
    @if (options().series && !allErrorData) {
        <div echarts class="m-0" [options]="options()" style="height: 480px"></div>
    } @else {
        <div class="no-data-half">
            <p class="text-half-empty">{{ "common.no-data" | translate }}</p>
        </div>
    }
}
<!--
<p-card>
    <div class="flex flex-column gap-3">
        <app-impact-aggregate-infos
            [displayValue]="
                footprintStore.unit() === peopleeq
                    ? criteriaCalculated().total.sip
                    : criteriaCalculated().total.impact
            "
            [criteria]="footprintStore.criteria()"
            [unit]="footprintStore.unit()"
            (changeUnit)="changeUnitInStore($event)"
        ></app-impact-aggregate-infos>
         <app-information-card
                    [title]="infocard().title"
                    [content]="infocard().text"
                ></app-information-card>
    </div>
</p-card>
<app-datacenter-equipment-stats
    [footprint]="footprint"
    [filterFields]="filterFields"
    [datacenters]="datacenters"
    [equipments]="equipments"
    [inVirtualEquipments]="inVirtualEquipments"
/> -->
