- name: "Inventories G4IT"
  url: "http://localhost:4200/#/organizations/SOPRA-STERIA-GROUP/workspaces/1/inventories"
  screenshot: "output/screenshots/inventories.png"
  actions:
    - name: "Equipment page"
      type: "click"
      waitForSelector: 'p-button[id="inventory-equipment-button"]'
      element: 'p-button[id="inventory-equipment-button"]'
      pageChange: true
      waitForNavigation: networkidle0
    - name: "Equipment page climate change"
      type: "click"
      element: 'a[id="climate-change"]'
      pageChange: true
    - name: "Home G4IT"
      type: "click"
      element: 'p-button[id="my-is-return-button"]'
      pageChange: true
    - name: "Application page"
      waitForNavigation: load
      type: "click"
      element: 'p-button[id="inventory-application-button"]'
      pageChange: true
    - name: "Application page climate change"
      type: "click"
      element: 'a[id="climate-change"]'
      pageChange: true

- name: "Digital Services G4IT"
  url: "http://localhost:4200/#/organizations/SOPRA-STERIA-GROUP/workspaces/1/digital-services"
  waitForSelector: "#add-digital"
  screenshot: "output/screenshots/ds.png"
  actions:
    - name: "Choose digital service"
      type: "click"
      waitForNavigation: networkidle0
      waitForSelector: 'p-card[aria-label="Digital Service 1"]'
      element: 'p-card[aria-label="Digital Service 1"]'
      pageChange: true
    - name: "Visualize click"
      type: "click"
      element: 'a[id="visualize"]'
      pageChange: true
    - name: "Manage Versions"
      type: "click"
      waitForSelector: "#manage-versions"
      element: "#manage-versions"
      pageChange: true

- name: "Administration Panel Users G4IT"
  url: "http://localhost:4200/#/administration/users"
  actions:
    - name: "Choose workspace dropdown click"
      type: "click"
      waitForSelector: 'p-dropdown[id="workspaceName"]'
      element: 'p-dropdown[id="workspaceName"]'
    - name: "Select First Workspace Option"
      type: "click"
      # CORRECTION : On attend que la liste s'ouvre et on clique sur l'item standard
      waitForSelector: '.p-dropdown-item'
      element: '.p-dropdown-item'
    - name: "Fill email input"
      type: "text"
      element: 'input[id="searchName"]'
      content: "admin@g4it.com"
    - name: "Search click"
      type: "click"
      element: 'p-button[id="search-button"]'

- name: "Administration Panel Organizations G4IT"
  url: "http://localhost:4200/#/administration/organizations"
  actions:
    - name: "Choose organization dropdown click"
      type: "click"
      waitForSelector: 'p-dropdown[id="organizationName"]'
      element: 'p-dropdown[id="organizationName"]'
    - name: "Select First Organization Option"
      type: "click"
      # CORRECTION : On attend que la liste s'ouvre et on clique sur l'item standard
      waitForSelector: '.p-dropdown-item'
      element: '.p-dropdown-item'