databaseChangeLog:
  - changeSet:
      id: add-digital-service-version-uid-in-application
      author: G4IT Dev Team
      changes:
        - addColumn:
            tableName: in_application
            columns:
              - column:
                  name: digital_service_version_uid
                  type: varchar(255)
                  remarks: "Foreign key to the Digital Service Version"

        - addForeignKeyConstraint:
            baseTableName: in_application
            baseColumnNames: digital_service_version_uid
            constraintName: fk_in_application_digital_service_version
            referencedTableName: digital_service_version
            referencedColumnNames: uid
            onDelete: CASCADE

  - changeSet:
      id: add-digital-service-version-uid-in-datacenter
      author: G4IT Dev Team
      changes:
        - addColumn:
            tableName: in_datacenter
            columns:
              - column:
                  name: digital_service_version_uid
                  type: varchar(255)
                  remarks: "Foreign key to the Digital Service Version"

        - addForeignKeyConstraint:
            baseTableName: in_datacenter
            baseColumnNames: digital_service_version_uid
            constraintName: fk_in_datacenter_digital_service_version
            referencedTableName: digital_service_version
            referencedColumnNames: uid
            onDelete: CASCADE

  - changeSet:
      id: add-digital-service-version-uid-in-physical-equipment
      author: G4IT Dev Team
      changes:
        - addColumn:
            tableName: in_physical_equipment
            columns:
              - column:
                  name: digital_service_version_uid
                  type: varchar(255)
                  remarks: "Foreign key to the Digital Service Version"

        - addForeignKeyConstraint:
            baseTableName: in_physical_equipment
            baseColumnNames: digital_service_version_uid
            constraintName: fk_in_physical_equipment_digital_service_version
            referencedTableName: digital_service_version
            referencedColumnNames: uid
            onDelete: CASCADE

  - changeSet:
      id: add-digital-service-version-uid-in-virtual-equipment
      author: G4IT Dev Team
      changes:
        - addColumn:
            tableName: in_virtual_equipment
            columns:
              - column:
                  name: digital_service_version_uid
                  type: varchar(255)
                  remarks: "Foreign key to the Digital Service Version"

        - addForeignKeyConstraint:
            baseTableName: in_virtual_equipment
            baseColumnNames: digital_service_version_uid
            constraintName: fk_in_virtual_equipment_digital_service_version
            referencedTableName: digital_service_version
            referencedColumnNames: uid
            onDelete: CASCADE

  - changeSet:
      id: add-digital-service-version-uid-in-ai-parameters
      author: G4IT Dev Team
      changes:
        - addColumn:
            tableName: in_ai_parameters
            columns:
              - column:
                  name: digital_service_version_uid
                  type: varchar(255)
                  remarks: "Foreign key to the Digital Service Version"

        - addForeignKeyConstraint:
            baseTableName: in_ai_parameters
            baseColumnNames: digital_service_version_uid
            constraintName: fk_in_ai_parameters_digital_service_version
            referencedTableName: digital_service_version
            referencedColumnNames: uid
            onDelete: CASCADE

  - changeSet:
      id: add-digital-service-version-uid-in-ai-infrastructure
      author: G4IT Dev Team
      changes:
        - addColumn:
            tableName: in_ai_infrastructure
            columns:
              - column:
                  name: digital_service_version_uid
                  type: varchar(255)
                  remarks: "Foreign key to the Digital Service Version"

        - addForeignKeyConstraint:
            baseTableName: in_ai_infrastructure
            baseColumnNames: digital_service_version_uid
            constraintName: fk_in_ai_infrastructure_digital_service_version
            referencedTableName: digital_service_version
            referencedColumnNames: uid
            onDelete: CASCADE

  - changeSet:
      id: add-digital-service-version-uid-in-shared-link
      author: G4IT Dev Team
      changes:
        - addColumn:
            tableName: digital_service_shared_link
            columns:
              - column:
                  name: digital_service_version_uid
                  type: varchar(255)
                  remarks: "Foreign key to the Digital Service Version"

        - addForeignKeyConstraint:
            baseTableName: digital_service_shared_link
            baseColumnNames: digital_service_version_uid
            constraintName: fk_digital_service_shared_link_digital_service_version
            referencedTableName: digital_service_version
            referencedColumnNames: uid
            onDelete: CASCADE

  - changeSet:
      id: add-digital-service-version-uid-in-task
      author: G4IT Dev Team
      changes:
        - addColumn:
            tableName: task
            columns:
              - column:
                  name: digital_service_version_uid
                  type: varchar(255)
                  remarks: "Foreign key to the Digital Service Version"

        - addForeignKeyConstraint:
            baseTableName: task
            baseColumnNames: digital_service_version_uid
            constraintName: fk_task_digital_service_version
            referencedTableName: digital_service_version
            referencedColumnNames: uid
            onDelete: CASCADE
